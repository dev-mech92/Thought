<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Blog</title>
  <meta name="description" content="Independent blog powered by GitHub Pages" />
  <style>
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:#0f1117;color:#eaeaf0}
    header{padding:24px;border-bottom:1px solid #1f2230;background:#0f1117;position:sticky;top:0;z-index:10}
    header h1{margin:0;font-size:1.6rem}
    header p{margin:6px 0 0;color:#9aa0b4;font-size:.95rem}
    main{max-width:1000px;margin:auto;padding:28px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
    .card{background:#151823;border:1px solid #24283a;border-radius:16px;padding:18px;cursor:pointer;transition:transform .15s,box-shadow .15s}
    .card:hover{transform:translateY(-3px);box-shadow:0 8px 24px rgba(0,0,0,.25)}
    .card h2{margin:0 0 10px;font-size:1.15rem;line-height:1.3}
    .card time{font-size:.8rem;color:#8c92aa}
    .card p{margin:12px 0 0;color:#cfd3ff;font-size:.95rem;line-height:1.5}
    .post{max-width:760px;margin:auto}
    .post h1{font-size:2.2rem;line-height:1.3}
    .post time{color:#8c92aa;font-size:.85rem}
    .post-content{margin-top:24px;line-height:1.8;font-size:1.05rem}
    .back{display:inline-block;margin-bottom:20px;color:#8aa2ff;cursor:pointer;font-size:.9rem}
    footer{text-align:center;padding:40px 20px;color:#777;font-size:.85rem}
  </style>
</head>
<body>
<header>
  <h1>My Blog</h1>
  <p>Independent writing. No platform. No algorithm.</p>
</header><main id="app">
  <section class="grid" id="home"></section>
</main><footer>Hosted on GitHub Pages • Content controlled via GitHub</footer><script>
/*
READ‑ONLY BLOG ARCHITECTURE
--------------------------
• Posts are written as Markdown files in /posts
• posts/index.json is the ONLY source of truth
• This website NEVER accepts user input
• Publishing = committing files to GitHub
*/

const app = document.getElementById('app');
const home = document.getElementById('home');

fetch('posts/index.json')
  .then(r => r.json())
  .then(posts => {
    posts.sort((a,b)=>b.date-a.date);
    posts.forEach(p => {
      const card = document.createElement('article');
      card.className = 'card';
      card.innerHTML = `
        <h2>${p.title}</h2>
        <time>${new Date(p.date).toDateString()}</time>
        <p>${p.excerpt}</p>
      `;
      card.onclick = () => openPost(p);
      home.appendChild(card);
    });
  });

function openPost(p){
  fetch('posts/' + p.file)
    .then(r => r.text())
    .then(md => {
      app.innerHTML = `
        <article class="post">
          <span class="back" onclick="location.reload()">← Back to homepage</span>
          <h1>${p.title}</h1>
          <time>${new Date(p.date).toDateString()}</time>
          <div class="post-content">${md.replace(/\n/g,'<br><br>')}</div>
        </article>
      `;
    });
}
</script></body>
  </html>
